<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Authenticating - Matrix Hookshot</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="../docs/_site/style.css">
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../hookshot.html"><strong aria-hidden="true">1.</strong> ‚ÑπÔ∏è Hookshot</a></li><li class="chapter-item expanded "><a href="../setup.html"><strong aria-hidden="true">2.</strong> ‚öôÔ∏è Setup</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../setup/sample-configuration.html"><strong aria-hidden="true">2.1.</strong> üìÉ Sample Configuration</a></li><li class="chapter-item expanded "><a href="../setup/feeds.html"><strong aria-hidden="true">2.2.</strong> Feeds</a></li><li class="chapter-item expanded "><a href="../setup/figma.html"><strong aria-hidden="true">2.3.</strong> Figma</a></li><li class="chapter-item expanded "><a href="../setup/github.html"><strong aria-hidden="true">2.4.</strong> GitHub</a></li><li class="chapter-item expanded "><a href="../setup/gitlab.html"><strong aria-hidden="true">2.5.</strong> GitLab</a></li><li class="chapter-item expanded "><a href="../setup/jira.html"><strong aria-hidden="true">2.6.</strong> JIRA</a></li><li class="chapter-item expanded "><a href="../setup/webhooks.html"><strong aria-hidden="true">2.7.</strong> Webhooks</a></li><li class="chapter-item expanded "><a href="../setup/challengehound.html"><strong aria-hidden="true">2.8.</strong> ChallengeHound</a></li><li class="chapter-item expanded "><a href="../setup/openproject.html"><strong aria-hidden="true">2.9.</strong> OpenProject</a></li></ol></li><li class="chapter-item expanded "><a href="../usage.html"><strong aria-hidden="true">3.</strong> üë§ Usage</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../usage/dynamic_rooms.html"><strong aria-hidden="true">3.1.</strong> Dynamic Rooms</a></li><li class="chapter-item expanded "><a href="../usage/auth.html" class="active"><strong aria-hidden="true">3.2.</strong> Authenticating</a></li><li class="chapter-item expanded "><a href="../usage/room_configuration.html"><strong aria-hidden="true">3.3.</strong> Room Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../usage/room_configuration/github_repo.html"><strong aria-hidden="true">3.3.1.</strong> GitHub Repo</a></li><li class="chapter-item expanded "><a href="../usage/room_configuration/gitlab_project.html"><strong aria-hidden="true">3.3.2.</strong> GitLab Project</a></li><li class="chapter-item expanded "><a href="../usage/room_configuration/jira_project.html"><strong aria-hidden="true">3.3.3.</strong> JIRA Project</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../metrics.html"><strong aria-hidden="true">4.</strong> üìä Metrics</a></li><li class="chapter-item expanded "><a href="../sentry.html"><strong aria-hidden="true">5.</strong> Sentry</a></li><li class="chapter-item expanded "><a href="../troubleshooting.html"><strong aria-hidden="true">6.</strong> üÜò Troubleshooting</a></li><li class="chapter-item expanded affix "><li class="part-title">üßë‚Äçüíª Development</li><li class="chapter-item expanded "><a href="../dev/contributing.html"><strong aria-hidden="true">7.</strong> Contributing</a></li><li class="chapter-item expanded "><a href="../dev/setup.html"><strong aria-hidden="true">8.</strong> Setup</a></li><li class="chapter-item expanded affix "><li class="part-title">ü•º Advanced</li><li class="chapter-item expanded "><a href="../advanced/workers.html"><strong aria-hidden="true">9.</strong> Workers</a></li><li class="chapter-item expanded "><a href="../advanced/encryption.html"><strong aria-hidden="true">10.</strong> üîí Encryption</a></li><li class="chapter-item expanded "><a href="../advanced/widgets.html"><strong aria-hidden="true">11.</strong> ü™Ä Widgets</a></li><li class="chapter-item expanded "><a href="../advanced/service_bots.html"><strong aria-hidden="true">12.</strong> Service Bots</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Matrix Hookshot</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/matrix-org/matrix-hookshot" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                                        <a href="https://github.com/matrix-org/matrix-hookshot/edit/main/docs/usage/auth.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="authenticating"><a class="header" href="#authenticating">Authenticating</a></h1>
<p>Some services allow you to authenticate with them, to pair your Matrix identity with your remote identity
on the service. This can be used to ensure you have the required permission on the remote application,
or be able to execute commands like creating tickets.</p>
<p>All services mentioned below support authenticating via a DM room with the bridge bot, using bot commands.
In this guide, we are going to assume the bot is called <code>@hookshot:example.com</code> but this will vary for your setup. For all the instructions below, commands should only be executed in <strong>your DM room</strong> with hookshot.</p>
<p>Some services additionally support logging in via the widget, without the use of a DM room or bot commands. These
are mentioned explicitly.</p>
<h2 id="github"><a class="header" href="#github">GitHub</a></h2>
<h3 id="personal-access-token"><a class="header" href="#personal-access-token">Personal access token</a></h3>
<p>You can authenticate via OAuth or a Personal Access Token (PAT) when using GitHub. Authentication is required
when trying to bridge GitHub resources into rooms.</p>
<section class="notice">
Please note that you will need a Personal Access Token in order to bridge your personal GitHub notifications.
This is a limitation of GitHub's API.
</section>
<p>To authenticate with a personal access token:</p>
<ol>
<li>
<p>Open <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a> (Github &gt; Settings &gt; Developer Settings / Personal access tokens)</p>
</li>
<li>
<p>Click <strong>Generate new token</strong></p>
</li>
<li>
<p>Give it a good name, and a sensible expiration date. For scopes you will need:</p>
<ul>
<li>Repo (to access repo information)
<ul>
<li>If you want notifications for private repos, you need <code>repo: Full control of private repositories</code>. If you just want notifications for public repos, you only need:
<ul>
<li>repo:status</li>
<li>public_repo</li>
</ul>
</li>
</ul>
</li>
<li>Workflow (if you want to be able to launch workflows / GitHub actions from Matrix)</li>
<li>Notifications (if you want to bridge in your notifications to Matrix)</li>
<li>User
<ul>
<li>read:user</li>
</ul>
</li>
<li>write:discussion (for GitHub discussion support)
<ul>
<li>read:discussion</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Send the generated token to the bridge by saying <code>github setpersonaltoken %your-token%</code>. You can redact
the message afterwards if you like.</p>
</li>
<li>
<p>The bridge will have connected you.</p>
</li>
</ol>
<h3 id="oauth"><a class="header" href="#oauth">OAuth</a></h3>
<p>To authenticate via OAuth, you will need to have configured OAuth support in your config.yml, and have the endpoints required accessible from the internet.</p>
<ul>
<li>Say <code>github login</code> to get the URL to authenticate via.</li>
<li>Click the URL sent by the bot.</li>
<li>Follow the steps, ensuring you authenticate with the right user.</li>
<li>If all goes well, you will now be connected.</li>
<li>You can check the status of authenticated instances by saying <code>github status</code>.</li>
</ul>
<p>You may also authenticate via a widget, if you have <a href="../advanced/widgets.html">configured widgets</a></p>
<h2 id="gitlab"><a class="header" href="#gitlab">GitLab</a></h2>
<p>You can authenticate with GitLab by supplying a Personal Access Token. OAuth-style authentication isn't supported
yet.</p>
<ul>
<li>You will need to have configured a GitLab instance in your config.yml for the instance you want to log in to.</li>
<li>Open <strong>https://%instance%/-/profile/personal_access_tokens</strong> (GitLab &gt; User Settings &gt; Access Tokens), where instance is your GitLab instance address.
<ul>
<li>For the public GitLab server, this would be &quot;gitlab.com&quot;</li>
</ul>
</li>
<li>Give it a good name, and a sensible expiration date. For scopes you will need to tick <code>api</code>.</li>
<li>Send the generated token to the bridge by saying <code>gitlab personaltoken %instance% %your-token%</code>. You can redact
the message afterwards if you like.</li>
<li>The bridge will have connected you. You can check the status at any time by saying <code>gitlab hastoken %instance% </code></li>
</ul>
<h2 id="jira"><a class="header" href="#jira">JIRA</a></h2>
<p>You can log in to JIRA via OAuth. This means you will need to have configured OAuth support in your <code>config.yml</code>, and
have the endpoints required accessible from the internet. Authentication is required when trying to bridge JIRA resources into rooms.</p>
<ul>
<li>Say <code>jira login</code>, which will generate a unique URL.</li>
<li>Click the URL sent by the bot.</li>
<li>Follow the steps, ensuring you authenticate with the right user.</li>
<li>If all goes well, you will now be connected. You can check the status of authenticated instances by saying <code>jira whoami</code></li>
</ul>
<h2 id="openproject"><a class="header" href="#openproject">OpenProject</a></h2>
<p>You can log in to OpenProject via OAuth. Authentication is required when trying to bridge OpenProject into rooms.</p>
<ul>
<li>Say <code>openproject login</code>, which will generate a unique URL.</li>
<li>Click the URL sent by the bot.</li>
<li>Follow the steps, ensuring you authenticate with the right user.</li>
<li>If all goes well, you will now be connected.</li>
</ul>
<p>You may also authenticate via a widget, if you have <a href="../advanced/widgets.html">configured widgets</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../usage/dynamic_rooms.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../usage/room_configuration.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../usage/dynamic_rooms.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../usage/room_configuration.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="../docs/_site/main.js"></script>
                <script type="text/javascript" src="../docs/_site/version.js"></script>
        
        
    </body>
</html>
